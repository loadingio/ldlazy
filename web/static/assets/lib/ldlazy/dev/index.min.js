!function(){var r,n;function i(t,e){var n,r={}.hasOwnProperty;for(n in e)r.call(e,n)&&(t[n]=e[n]);return t}r=function(t,e){return null==e&&(e="ldlz"),(/\?/.exec(t=null==t?"":t)?"&":"?")+e+"="+Math.random().toString(36).substring(2)},(n=function(t){var e,n=this,r=(t=null==t?{}:t).root;return this.opt=i({debounce:10},t),this.root=r="string"==typeof r?document.querySelector(r):r||null,this.pending=[],t=this.opt.debounce&&"undefined"!=typeof debounce&&null!==debounce?(e=debounce(this.opt.debounce||10,function(){return n.handle(n.pending),n.pending=[]}),function(t){return t.map(function(t){var e=t.target._lzs;return e.changed=!0,e.visible=t.isIntersecting,e}),n.pending=n.pending.concat(t.map(function(t){return t.target})),e(t.map(function(t){return t.target}))}):function(t){return t.map(function(t){var e=t.target._lzs;return e.changed=!0,e.visible=t.isIntersecting,e}),n.handle(t.map(function(t){return t.target}))},this.obs=new IntersectionObserver(t,{root:r}),this.list=[],this}).prototype=i(Object.create(Object.prototype),{add:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(t){var e;if(n.obs.observe(t),n.list.push(t),t._lzs={src:t.getAttribute("data-src")||t.getAttribute("src")},t.classList.contains("nocache")&&(t._lzs.src+=r(t._lzs.src),t.hasAttribute("src")&&t.setAttribute("src",t._lzs.src)),t.classList.contains("placeholder"))return e=document.createElement("img"),t.appendChild(e),e.src=t._lzs.src+r(t._lzs.src,"ldlzp"),e.style.opacity=0})},remove:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(t){var e;return n.obs.unobserve(t),n.list.splice(n.list.indexOf(t),1),e=t._lzs,delete t._lzs,e})},handle:function(t){var n=this;if(t.map(function(t){var e=t._lzs;if(e.changed)return e.changed=!1,e.visible?(e.src&&("IMG"===t.nodeName?t.setAttribute("src",e.src):t.style.backgroundImage="url("+e.src+")",delete e.src),t.style.opacity=1,t.style.visibility="visible"):(t.style.opacity=0,t.style.visibility="hidden")}),this.opt.toggle)return t.map(function(t){var e=t._lzs;if(e.changed)return n.opt.toggle(t,e.visible)})}}),i(n,{px:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAAALAAAAAABAAEAAAIA",init:function(){var t=function(){var e=new n;return Array.from(document.querySelectorAll(".ldlz")).map(function(t){return e.add(t)})},e=document.readyState;return"loaded"===e||"interactive"===e||"complete"===e?t():window.addEventListener("DOMContentLoaded",t)}}),"undefined"!=typeof module&&null!==module?module.exports=n:"undefined"!=typeof window&&null!==window&&(window.ldlazy=n)}.call(this);
